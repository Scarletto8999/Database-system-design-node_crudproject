

<%- include("layout/header") %>

<style>
    tr:nth-child(even) {
        background-color: #f2f2f2;
        
        
    }
    table {
        border-collapse: separate;
        border-spacing: 0 1em;
    }
    td, th {
        padding: 20px;
    }
</style>

<div class = "container"> 
    <div class= "row my-4">
        <div class = "col-lg-12">
            <% if (message) { %>
             <div class="alert alert-dismissible fade show alert-<%= message.type  %>"
                 role = "alert">
                <button class= "btn-close" type = "button " data-bs-dismiss = "alert" aria-label="Close"></button>
                <strong><%= message.message %></strong>
            </div>
            <% } %>
            <div class="table-responsive">
                <% if (users != '') { %>
                    <table class= " text-center my-3 " style="border-collapse: collapse; width: 100%; border: 1px solid #ddd;  ">
                        <thead >
                            <tr  >
                                <th style="background-color: rgb(29, 29, 85); color: white;" class="text-center">ID</th>
                                <th style="background-color: rgb(29, 29, 85); color: white;"class="text-center">Name</th>
                                <th style="background-color: rgb(29, 29, 85); color: white;"class="text-center">Date of Birth</th>
                                <th style="background-color: rgb(29, 29, 85); color: white;"class="text-center">Place of Birth</th>
                                <th style="background-color: rgb(29, 29, 85); color: white;"class="text-center">Gender</th>
                                <th style="background-color: rgb(29, 29, 85); color: white;"class="text-center">Status</th>
                                <th style="background-color: rgb(29, 29, 85); color: white;"class="text-center">Resources</th>
                                <th style="background-color: rgb(29, 29, 85); color: white;"class="text-center">Nationality</th>
                                <th style="background-color: rgb(29, 29, 85); color: white;"class="text-center">Description</th>
                                <th style="background-color: rgb(29, 29, 85); color: white;"class="text-center">Charges</th>
                                <th style="background-color: rgb(29, 29, 85); color: white;"class="text-center">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% users.forEach((row, index) => { %>
                                <tr>
                                    <td class="text-center"><%= row._id  %> </td>
                                    <td><%= row.name %></td>
                                    <td><%= row.Date_of_birth ? row.Date_of_birth : 'N/A'  %></td>
                                    <td class="text-center"><%= row.Place_of_birth %> </td>
                                    <td class="text-center"><%= row.Gender %> </td>
                                    <td class="text-center"><%= row.Status %> </td>
                                    <td class="text-center"><%= row.Resource %> </td>
                                    <td class="text-center"><%= row.Nationality %> </td>
                                    <td class="text-center"><%= JSON.stringify(row.Description) %> </td>
                                    <td class="text-center"><%= JSON.stringify(row.Charges) %> </td>
                                    <td>
                                        <a href="/edit/<%= row._id %>"><i class="fas fa-edit fa-lg mx-1"></i></a>
                                        <a href="/delete/<%= row._id %>"><i class="fas fa-trash fa-lg mx-1"></i></a>
                                    </td>
                                </tr>
                            <% }) %>
                        </tbody>
                    </table>
                    
                <% }else{ %>
                    <h1 class= "text-center text-secondary mt-5"> no users found in the database  </h1>
                    <% } %>
                
            </div>
        </div>
    </div>
</div>


<%- include("layout/footer") %>